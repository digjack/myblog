<!--
author: 板栗
head: 
date: 2017-05-07
title: mysql调优阅读笔记
tags: mysql
images: 
category: mysql
status: publish
summary: 
-->


##### 1. T-MYSQL ：T-MYSQL 就是sql命令；

##### 2. ORDER BY 对性能的影响

原理：order by 是对查询的结果集（where语句执行后的结果）进行排序。 

优化点： 避免对大批量的数据进行排序操作，这样可以避免不必要的cpu资源消耗， 并且，当排序操作超过可以分配的内存大小时， 会把排序的中间数据存放在Tempdb数据库中，增加了I/O操作，导致语句的性能大大下降。 

> ORDER BY 的优先级大于 GROUP BY


##### 3. WHERE 语句合理化的评估

1. 是否有合适的索引可供使用；
2. 字段上是否有函数计算；
3. 返回结构及是否会过大；
4. 是否仅查询出需要的字段；


##### 4. 聚集索引和非聚集索引的区别

SQL Server 按照数据的存储方式， 可以分为聚集索引（Clustered Index）和非聚集索引(Nonclustered Index) 。

聚集索引： 数据实际上是按照顺序存储的，使用聚集索引查找到的数据就是数据物理存储的位置， 聚集索引的叶子节点不仅包含了索引建，还包含数据页。 实际的数据页只能按一种方式存储， 所以一张表只能拥有一个聚集索引。

非聚集索引： 索引完全独立于数据，是在另外的索引页面中存放非聚集索引数据的，使用非聚集索引查找数据是， 除非这个非聚集索引已经包含了T-SQL查询需要返回的所有字段，不然索引就需要根据非聚集索引中叶子节点的书签定位到实际的数据页，才能返回所需要的字段。


> 索引覆盖： 把 代码中常用的查询结果放在索引中， 这样的话，当查询条件命中了索引，查询结果也在索引集中，就不用返回来查询数据页了。

> 包含性索引： 关键字 include ； 把常用的结果集字段包含进索引， 作为**非聚集**索引的叶子，它只能作为查询结果返回，不能当做T-SQL的条件。 
 